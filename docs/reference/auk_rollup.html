<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Roll up eBird taxonomy to species — auk_rollup • auk</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">auk</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/auk.html">Vignette</a>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CornellLabofOrnithology/auk">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Roll up eBird taxonomy to species</h1>
    </div>

    
    <p>The eBird Basic Dataset (EBD) includes both true species and other taxa,
including domestics, hybrids, subspecies, "spuhs", and recognizable forms.
In some cases, a checklist may contain multiple records for the same species,
for example, both Audubon and Myrtle Yellow-rumped Warblers, as well as some
records that are not resolvable to species, for example, "warbler sp.".
This function addresses these cases by removing taxa not identifiable to
species and rolling up taxa identified below species level to a single record
for each species in each checklist. By default, <code><a href='read_ebd.html'>read_ebd()</a></code> calls
<code>ebd_rollup()</code> when importing an eBird data file.</p>
    

    <pre class="usage"><span class='fu'>auk_rollup</span>(<span class='no'>x</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>data.frame; data frame of eBird data, typically as imported by
<code><a href='read_ebd.html'>read_ebd()</a></code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame of the eBird data with taxonomic rollup applied.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When rolling observations up to species level the observed counts
are summed across any taxa that resolve to the same species. However, if
any of these taxa have a count of "X" (i.e. the observer did not enter a
count), then the rolled up record will get an "X" as well. For example, if
an observer saw 3 Myrtle and 2 Audubon Warblers, this will roll up to 5
Yellow-rumped Warblers. However, if an "X" was entered for Myrtle, this
would roll up to "X" for Yellow-rumped Warbler.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>f</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata/ebd-rollup-ex.txt"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"auk"</span>)
<span class='fu'><a href='read_ebd.html'>read_ebd</a></span>(<span class='no'>f</span>, <span class='kw'>rollup</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; # A tibble: 186 x 47
#&gt;    checklist_id                       global_unique_identifier
#&gt;           &lt;chr&gt;                                          &lt;chr&gt;
#&gt;  1     S5303232  URN:CornellLabOfOrnithology:EBIRD:OBS74460207
#&gt;  2     S5271028  URN:CornellLabOfOrnithology:EBIRD:OBS74039017
#&gt;  3    S25970116 URN:CornellLabOfOrnithology:EBIRD:OBS355093798
#&gt;  4     S5231866  URN:CornellLabOfOrnithology:EBIRD:OBS73545417
#&gt;  5     S5276125  URN:CornellLabOfOrnithology:EBIRD:OBS74105800
#&gt;  6     S5239452  URN:CornellLabOfOrnithology:EBIRD:OBS73638626
#&gt;  7    S13313466 URN:CornellLabOfOrnithology:EBIRD:OBS184656248
#&gt;  8     S5276112  URN:CornellLabOfOrnithology:EBIRD:OBS74105705
#&gt;  9     S5230408  URN:CornellLabOfOrnithology:EBIRD:OBS73530097
#&gt; 10     S5230409  URN:CornellLabOfOrnithology:EBIRD:OBS73530110
#&gt; # ... with 176 more rows, and 45 more variables: last_edited_date &lt;chr&gt;,
#&gt; #   taxonomic_order &lt;dbl&gt;, category &lt;chr&gt;, common_name &lt;chr&gt;,
#&gt; #   scientific_name &lt;chr&gt;, subspecies_common_name &lt;chr&gt;,
#&gt; #   subspecies_scientific_name &lt;chr&gt;, observation_count &lt;chr&gt;,
#&gt; #   breeding_bird_atlas_code &lt;chr&gt;, age_sex &lt;chr&gt;, country &lt;chr&gt;,
#&gt; #   country_code &lt;chr&gt;, state_province &lt;chr&gt;, subnational1_code &lt;chr&gt;,
#&gt; #   county &lt;chr&gt;, subnational2_code &lt;chr&gt;, iba_code &lt;chr&gt;, bcr_code &lt;int&gt;,
#&gt; #   usfws_code &lt;chr&gt;, atlas_block &lt;chr&gt;, locality &lt;chr&gt;, locality_id &lt;chr&gt;,
#&gt; #   locality_type &lt;chr&gt;, latitude &lt;dbl&gt;, longitude &lt;dbl&gt;,
#&gt; #   observation_date &lt;date&gt;, time_observations_started &lt;chr&gt;,
#&gt; #   observer_id &lt;chr&gt;, first_name &lt;chr&gt;, last_name &lt;chr&gt;,
#&gt; #   sampling_event_identifier &lt;chr&gt;, protocol_type &lt;chr&gt;, project_code &lt;chr&gt;,
#&gt; #   duration_minutes &lt;int&gt;, effort_distance_km &lt;dbl&gt;, effort_area_ha &lt;dbl&gt;,
#&gt; #   number_observers &lt;int&gt;, all_species_reported &lt;lgl&gt;, group_identifier &lt;chr&gt;,
#&gt; #   has_media &lt;lgl&gt;, approved &lt;lgl&gt;, reviewed &lt;lgl&gt;, reason &lt;chr&gt;,
#&gt; #   trip_comments &lt;chr&gt;, species_comments &lt;chr&gt;</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, <a href='http://eliotmiller.weebly.com/'>Eliot Miller</a>, Wesley Hochachka.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
